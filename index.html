<script>
  async function translateText() {
    const inputText = document.getElementById('inputText').value;
    const fromLang = document.getElementById('fromLang').value;
    const toLang = document.getElementById('toLang').value;
    const output = document.getElementById('outputText');
    output.innerText = 'Ana fassara...';

    try {
      const res = await fetch('https://translate.argosopentech.com/translate', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          q: inputText,
          source: fromLang,
          target: toLang,
          format: 'text'
        })
      });

      const data = await res.json();
      output.innerText = data.translatedText || 'Ba a samu sakamako ba.';
    } catch (err) {
      console.error(err);
      output.innerText = '‚ùå An samu matsala wajen fassara. Ka sake gwadawa.';
    }
  }
</script>
